<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  UnstructuredURLLoader 무한 로딩 해결
  #


  요약
  #


UnstructedURLLoader에서 사용하는 라이브러리 중 
  unstructured.file_utils.filetype 에서 python-magic 라이브러리를 로드할 때 발생하는 이슈였습니다.
해당 라이브러리를 사용할 떄는 OS 별로 다르게 magic 라이브러리의 종속성을 제공해야 합니다. 그래서 Linux나 MacOS를 사용할 때는 Unstructed 기본 종속성으로 python-magic 이 설치되어 문제가 없지만, Windows를 사용할 떄는 python-magic-bin 을 사용하는 환경에 종속성을 추가해야 합니다.

Windows: python-magic-bin
Linux, MacOS: python-magic





  상황 설명
  #


Windows 환경에서 
  Hugging-face Open-Source AI Cookbook 를 보며 LLM 스터디를 진행하고 있었습니다.
UnstructuredURLLoader을 사용하여 페이지의 글자들을 가져올 떄 무한 로딩이 걸리는 이슈가 발생하였습니다. 30초 내외로 로드가 완료되어야 정상인데 2분 이상 로드가 완료되지 않는 현상이 발견되었습니다.
Ubuntu 환경에서도 현상을 재현해보았지만 큰 문제가 없이 로드가 되어 사용할 수 있었습니다.


  예시 코드
  #

from langchain_community.document_loaders import UnstructuredURLLoader

version = "v4.49.0"

urls = [
    f"<https://huggingface.co/docs/transformers/{version}/ko/pipeline_tutorial>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/autoclass_tutorial>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/preprocessing>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/training>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/run_scripts>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tokenizer_summary>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/attention>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/pad_truncation>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/pipeline_webserver>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks_explained>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/hpo_train>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/sequence_classification>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/token_classification>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/question_answering>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/language_modeling>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/masked_language_modeling>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/translation>",
    f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/summarization>",
]
loader = UnstructuredURLLoader(urls=urls)
docs = loader.load()


  접근 방법
  #


네트워크가 제한된 망을 사용하고 있던 상황이라 네트워크 이슈라고 생각하여 HTTP 통신을 시도해보았습니다.

httpx 를 사용하여 URL 중 하나에 get 요청을 보내어 정상적으로 요청을 받는 지 확인하였습니다.
요청 결과는 정상적으로 받아왔었습니다.


라이브러리 자체의 문제라고 생각하여 Github에 있는 코드들을 확인 및 직접 실행하여 Blocking이 걸리는 부분을 확인하였습니다.


  UnstructuredURLLoader

  unstructured.partition.auto.partition

  unstructured.file_utils.filetype
importlib.import_module(&ldquo;magic&rdquo;)

importlib 자체는 라이브러리 로드가 되기 떄문에 magic 문제라 생각하고 magic을 실행하였습니다.


magic


python-magic 라이브러리를 Windows에서 사용할 때 발생하는 원인 등을 조사하였습니다.

Windows에서는 python-magic 대신 python-magic-bin 을 사용하여 magic 라이브러리를 사용할 수 있도록 해야 합니다.
unstructed issue에 다른 유저가 관련 이슈를 올린 것을 확인하였습니다.


  https://github.com/Unstructured-IO/unstructured/issues/3438




최종적으로 python-magic-bin==0.4.14 를 설치하였을 떄 정상적으로 작동하였습니다.
'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://devseunggwan.github.io/docs/tech/langchain/issue-unstructuredurlloader/"><meta property="og:site_name" content="데브승관"><meta property="og:title" content="UnstructuredURLLoader 무한 로딩 해결"><meta property="og:description" content='UnstructuredURLLoader 무한 로딩 해결 # 요약 # UnstructedURLLoader에서 사용하는 라이브러리 중 unstructured.file_utils.filetype 에서 python-magic 라이브러리를 로드할 때 발생하는 이슈였습니다. 해당 라이브러리를 사용할 떄는 OS 별로 다르게 magic 라이브러리의 종속성을 제공해야 합니다. 그래서 Linux나 MacOS를 사용할 때는 Unstructed 기본 종속성으로 python-magic 이 설치되어 문제가 없지만, Windows를 사용할 떄는 python-magic-bin 을 사용하는 환경에 종속성을 추가해야 합니다. Windows: python-magic-bin Linux, MacOS: python-magic 상황 설명 # Windows 환경에서 Hugging-face Open-Source AI Cookbook 를 보며 LLM 스터디를 진행하고 있었습니다. UnstructuredURLLoader을 사용하여 페이지의 글자들을 가져올 떄 무한 로딩이 걸리는 이슈가 발생하였습니다. 30초 내외로 로드가 완료되어야 정상인데 2분 이상 로드가 완료되지 않는 현상이 발견되었습니다. Ubuntu 환경에서도 현상을 재현해보았지만 큰 문제가 없이 로드가 되어 사용할 수 있었습니다. 예시 코드 # from langchain_community.document_loaders import UnstructuredURLLoader version = "v4.49.0" urls = [ f"<https://huggingface.co/docs/transformers/{version}/ko/pipeline_tutorial>", f"<https://huggingface.co/docs/transformers/{version}/ko/autoclass_tutorial>", f"<https://huggingface.co/docs/transformers/{version}/ko/preprocessing>", f"<https://huggingface.co/docs/transformers/{version}/ko/training>", f"<https://huggingface.co/docs/transformers/{version}/ko/run_scripts>", f"<https://huggingface.co/docs/transformers/{version}/ko/tokenizer_summary>", f"<https://huggingface.co/docs/transformers/{version}/ko/attention>", f"<https://huggingface.co/docs/transformers/{version}/ko/pad_truncation>", f"<https://huggingface.co/docs/transformers/{version}/ko/pipeline_webserver>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks_explained>", f"<https://huggingface.co/docs/transformers/{version}/ko/hpo_train>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/sequence_classification>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/token_classification>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/question_answering>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/language_modeling>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/masked_language_modeling>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/translation>", f"<https://huggingface.co/docs/transformers/{version}/ko/tasks/summarization>", ] loader = UnstructuredURLLoader(urls=urls) docs = loader.load() 접근 방법 # 네트워크가 제한된 망을 사용하고 있던 상황이라 네트워크 이슈라고 생각하여 HTTP 통신을 시도해보았습니다. httpx 를 사용하여 URL 중 하나에 get 요청을 보내어 정상적으로 요청을 받는 지 확인하였습니다. 요청 결과는 정상적으로 받아왔었습니다. 라이브러리 자체의 문제라고 생각하여 Github에 있는 코드들을 확인 및 직접 실행하여 Blocking이 걸리는 부분을 확인하였습니다. UnstructuredURLLoader unstructured.partition.auto.partition unstructured.file_utils.filetype importlib.import_module(“magic”) importlib 자체는 라이브러리 로드가 되기 떄문에 magic 문제라 생각하고 magic을 실행하였습니다. magic python-magic 라이브러리를 Windows에서 사용할 때 발생하는 원인 등을 조사하였습니다. Windows에서는 python-magic 대신 python-magic-bin 을 사용하여 magic 라이브러리를 사용할 수 있도록 해야 합니다. unstructed issue에 다른 유저가 관련 이슈를 올린 것을 확인하였습니다. https://github.com/Unstructured-IO/unstructured/issues/3438 최종적으로 python-magic-bin==0.4.14 를 설치하였을 떄 정상적으로 작동하였습니다.'><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-05-14T01:52:16+00:00"><title>UnstructuredURLLoader 무한 로딩 해결 | 데브승관</title>
<link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://devseunggwan.github.io/docs/tech/langchain/issue-unstructuredurlloader/><link rel=stylesheet href=/book.min.d5c02c6e6410f6e4b2003a1c54170554f18e507efdc1850ce6fe85ce32f50496.css integrity="sha256-1cAsbmQQ9uSyADocVBcFVPGOUH79wYUM5v6FzjL1BJY=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.7d65a475a48172ceb58877b477af23f35d2ded8d6bf5d4ebeee295f2d26103e9.js integrity="sha256-fWWkdaSBcs61iHe0d68j810t7Y1r9dTr7uKV8tJhA+k=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-ND4BZG3LS1"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ND4BZG3LS1")}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/icon.png alt=Logo class=book-icon><span>데브승관</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><span>Tech</span><ul><li><input type=checkbox id=section-a60fa73ba0ca5091982e66ba30dd6598 class=toggle>
<label for=section-a60fa73ba0ca5091982e66ba30dd6598 class="flex justify-between"><a role=button>Airbyte</a></label><ul><li><a href=/docs/tech/airbyte/installation/>Installation</a></li><li><a href=/docs/tech/airbyte/mysql-to-snowflake/>Airbyte를 사용하여 MySQL to Snowflake 연결 시 고려 사항</a></li><li><a href=/docs/tech/airbyte/disk-issue/>Airbyte 운용 시 디스크 용량이 많이 찼을 때 확인해볼 수 있는 것들</a></li></ul></li><li><input type=checkbox id=section-0df090beb6b8424476a21f6272de6438 class=toggle>
<label for=section-0df090beb6b8424476a21f6272de6438 class="flex justify-between"><a role=button>AWS</a></label><ul><li><a href=/docs/tech/aws/aws-lambda/>AWS Lambda 사용 경험 정리</a></li></ul></li><li><input type=checkbox id=section-57ccde6e58abfd82b4c0c706b6cd1770 class=toggle>
<label for=section-57ccde6e58abfd82b4c0c706b6cd1770 class="flex justify-between"><a role=button>Git</a></label><ul><li><a href=/docs/tech/git/gitleaks/>Gitleaks를 사용한 Git 비밀 유출 검사, 사용법</a></li></ul></li><li><input type=checkbox id=section-e13c1742298c6a8c23cd403840d50c94 class=toggle>
<label for=section-e13c1742298c6a8c23cd403840d50c94 class="flex justify-between"><a role=button>JS7 JobScheduler</a></label><ul><li><a href=/docs/tech/js7-jobscheduler/introduce/>Introduce</a></li><li><a href=/docs/tech/js7-jobscheduler/installation/>Installation</a></li><li><a href=/docs/tech/js7-jobscheduler/configuration/>Configuration</a></li></ul></li><li><input type=checkbox id=section-a85f1e2bfc3e5f90a036e102e5e53c6f class=toggle checked>
<label for=section-a85f1e2bfc3e5f90a036e102e5e53c6f class="flex justify-between"><a role=button>Langchain</a></label><ul><li><a href=/docs/tech/langchain/issue-unstructuredurlloader/ class=active>UnstructuredURLLoader 무한 로딩 해결</a></li></ul></li><li><input type=checkbox id=section-711ce98c05a75c48054a4227d171306e class=toggle>
<label for=section-711ce98c05a75c48054a4227d171306e class="flex justify-between"><a role=button>Python</a></label><ul><li><a href=/docs/tech/python/vscode-python-failed-to-resolve-env/>VSCode Python 익스텐션 에러 트러블 슈팅 (Failed to resolve env)</a></li><li><a href=/docs/tech/python/python-rocky-linux-installation/>폐쇄망에 Python 설치 (Rocky Linux 8.10, UV 사용)</a></li></ul></li></ul></li><li class=book-section-flat><span>Book</span><ul><li><input type=checkbox id=section-f41dde8d67e63c2fc20fc13a03f84626 class=toggle>
<label for=section-f41dde8d67e63c2fc20fc13a03f84626 class="flex justify-between"><a role=button>가상 면접 사례로 알아보는 대규모 시스템 설계 기초 1</a></label><ul></ul></li><li><input type=checkbox id=section-cb6caec5d5cb6384bd3b84b7946900c3 class=toggle>
<label for=section-cb6caec5d5cb6384bd3b84b7946900c3 class="flex justify-between"><a role=button>랄프 킴벌의 데이터 웨어하우스 툴킷(The Warehouse Toolkit)</a></label><ul></ul></li></ul></li><li class=book-section-flat><span>Think</span><ul></ul></li><li class=book-section-flat><span>Conference</span><ul></ul></li></ul><ul><li><a href=https://github.com/devseunggwan target=_blank rel=noopener>Github</a></li><li><a href=https://www.linkedin.com/in/seunggwan target=_blank rel=noopener>Linkedin</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>UnstructuredURLLoader 무한 로딩 해결</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#unstructuredurlloader-무한-로딩-해결>UnstructuredURLLoader 무한 로딩 해결</a><ul><li><a href=#요약>요약</a></li><li><a href=#상황-설명>상황 설명</a><ul><li><a href=#예시-코드>예시 코드</a></li></ul></li><li><a href=#접근-방법>접근 방법</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=unstructuredurlloader-무한-로딩-해결>UnstructuredURLLoader 무한 로딩 해결
<a class=anchor href=#unstructuredurlloader-%eb%ac%b4%ed%95%9c-%eb%a1%9c%eb%94%a9-%ed%95%b4%ea%b2%b0>#</a></h1><h2 id=요약>요약
<a class=anchor href=#%ec%9a%94%ec%95%bd>#</a></h2><ul><li>UnstructedURLLoader에서 사용하는 라이브러리 중
<a href=https://github.com/Unstructured-IO/unstructured/blob/main/unstructured/file_utils/filetype.py>unstructured.file_utils.filetype</a> 에서 python-magic 라이브러리를 로드할 때 발생하는 이슈였습니다.</li><li>해당 라이브러리를 사용할 떄는 OS 별로 다르게 magic 라이브러리의 종속성을 제공해야 합니다. 그래서 Linux나 MacOS를 사용할 때는 Unstructed 기본 종속성으로 <code>python-magic</code> 이 설치되어 문제가 없지만, Windows를 사용할 떄는 <code>python-magic-bin</code> 을 사용하는 환경에 종속성을 추가해야 합니다.<ul><li>Windows: <code>python-magic-bin</code></li><li>Linux, MacOS: <code>python-magic</code></li></ul></li></ul><hr><h2 id=상황-설명>상황 설명
<a class=anchor href=#%ec%83%81%ed%99%a9-%ec%84%a4%eb%aa%85>#</a></h2><ul><li><code>Windows 환경</code>에서
<a href=https://huggingface.co/learn/cookbook/ko/advanced_ko_rag>Hugging-face Open-Source AI Cookbook</a> 를 보며 LLM 스터디를 진행하고 있었습니다.</li><li><code>UnstructuredURLLoader</code>을 사용하여 페이지의 글자들을 가져올 떄 무한 로딩이 걸리는 이슈가 발생하였습니다. 30초 내외로 로드가 완료되어야 정상인데 2분 이상 로드가 완료되지 않는 현상이 발견되었습니다.</li><li>Ubuntu 환경에서도 현상을 재현해보았지만 큰 문제가 없이 로드가 되어 사용할 수 있었습니다.</li></ul><h3 id=예시-코드>예시 코드
<a class=anchor href=#%ec%98%88%ec%8b%9c-%ec%bd%94%eb%93%9c>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> langchain_community.document_loaders <span style=color:#f92672>import</span> UnstructuredURLLoader
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;v4.49.0&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>urls <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/pipeline_tutorial&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/autoclass_tutorial&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/preprocessing&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/training&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/run_scripts&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tokenizer_summary&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/attention&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/pad_truncation&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/pipeline_webserver&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks_explained&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/hpo_train&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks/sequence_classification&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks/token_classification&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks/question_answering&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks/language_modeling&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks/masked_language_modeling&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks/translation&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;https://huggingface.co/docs/transformers/</span><span style=color:#e6db74>{</span>version<span style=color:#e6db74>}</span><span style=color:#e6db74>/ko/tasks/summarization&gt;&#34;</span>,
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>loader <span style=color:#f92672>=</span> UnstructuredURLLoader(urls<span style=color:#f92672>=</span>urls)
</span></span><span style=display:flex><span>docs <span style=color:#f92672>=</span> loader<span style=color:#f92672>.</span>load()
</span></span></code></pre></div><hr><h2 id=접근-방법>접근 방법
<a class=anchor href=#%ec%a0%91%ea%b7%bc-%eb%b0%a9%eb%b2%95>#</a></h2><ol><li>네트워크가 제한된 망을 사용하고 있던 상황이라 네트워크 이슈라고 생각하여 HTTP 통신을 시도해보았습니다.<ol><li><code>httpx</code> 를 사용하여 URL 중 하나에 get 요청을 보내어 정상적으로 요청을 받는 지 확인하였습니다.</li><li>요청 결과는 정상적으로 받아왔었습니다.</li></ol></li><li>라이브러리 자체의 문제라고 생각하여 Github에 있는 코드들을 확인 및 직접 실행하여 Blocking이 걸리는 부분을 확인하였습니다.<ol><li><a href=https://github.com/langchain-ai/langchain/blob/7e62e3a137814b6813e11b602b2f78df1dec8d14/libs/community/langchain_community/document_loaders/url.py#L13C7-L13C28>UnstructuredURLLoader</a></li><li><a href=https://github.com/Unstructured-IO/unstructured/blob/347a4e5d9ee42f32c1186f0f0dada93bf9910778/unstructured/partition/auto.py#L30>unstructured.partition.auto.partition</a></li><li><a href=https://github.com/Unstructured-IO/unstructured/blob/main/unstructured/file_utils/filetype.py>unstructured.file_utils.filetype</a></li><li>importlib.import_module(&ldquo;magic&rdquo;)<ol><li>importlib 자체는 라이브러리 로드가 되기 떄문에 magic 문제라 생각하고 magic을 실행하였습니다.</li></ol></li><li>magic</li></ol></li><li><code>python-magic</code> 라이브러리를 Windows에서 사용할 때 발생하는 원인 등을 조사하였습니다.<ol><li>Windows에서는 python-magic 대신 <code>python-magic-bin</code> 을 사용하여 magic 라이브러리를 사용할 수 있도록 해야 합니다.</li><li>unstructed issue에 다른 유저가 관련 이슈를 올린 것을 확인하였습니다.<ol><li><a href=https://github.com/Unstructured-IO/unstructured/issues/3438>https://github.com/Unstructured-IO/unstructured/issues/3438</a></li></ol></li></ol></li><li>최종적으로 <code>python-magic-bin==0.4.14</code> 를 설치하였을 떄 정상적으로 작동하였습니다.</li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/devseunggwan/commit/13bcf7c0a2673b08e99416776dc3b710d6630a69 title='Last modified by Seunggwan Song | May 14, 2025' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>May 14, 2025</span></a></div><div><a class="flex align-center" href=https://github.com/devseunggwan/edit/main/exampleSite/content/docs/tech/langchain/issue-unstructuredurlloader.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#unstructuredurlloader-무한-로딩-해결>UnstructuredURLLoader 무한 로딩 해결</a><ul><li><a href=#요약>요약</a></li><li><a href=#상황-설명>상황 설명</a><ul><li><a href=#예시-코드>예시 코드</a></li></ul></li><li><a href=#접근-방법>접근 방법</a></li></ul></li></ul></nav></div></aside></main></body></html>
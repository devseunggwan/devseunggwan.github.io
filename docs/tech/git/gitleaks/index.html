<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Gitleaks
  #

Gitleaks는 Git 리포지토리의 비밀번호, API 키, 토큰과 같은 하드코딩 된 비밀을 감지하고 유출을 방지하는 SAST(Static Application Security Testing, 정적 어플리케이션 보안 테스트) 도구입니다.
Go로 작성되었으며, Homebrew, Docker, Git Repo, Pre-commit, Github-Action 등으로 설치하여 사용할 수 있습니다.
아래는 Homebrew를 통해서 맥 로컬에 설치하는 방법입니다.
brew install gitleaks
Gitleaks를 통해서 찾을 수 있는 비밀은 여러가지가 있고, 
  Github Repo에서 각 규칙(총 137가지)들을 확인할 수 있습니다.
Gitleaks를 만약 로컬에 설치했다면, 실행하는 방법은 다음과 같습니다."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://devseunggwan.github.io/docs/tech/git/gitleaks/"><meta property="og:site_name" content="데브승관"><meta property="og:title" content="Gitleak"><meta property="og:description" content="Gitleaks # Gitleaks는 Git 리포지토리의 비밀번호, API 키, 토큰과 같은 하드코딩 된 비밀을 감지하고 유출을 방지하는 SAST(Static Application Security Testing, 정적 어플리케이션 보안 테스트) 도구입니다.
Go로 작성되었으며, Homebrew, Docker, Git Repo, Pre-commit, Github-Action 등으로 설치하여 사용할 수 있습니다.
아래는 Homebrew를 통해서 맥 로컬에 설치하는 방법입니다.
brew install gitleaks Gitleaks를 통해서 찾을 수 있는 비밀은 여러가지가 있고, Github Repo에서 각 규칙(총 137가지)들을 확인할 수 있습니다.
Gitleaks를 만약 로컬에 설치했다면, 실행하는 방법은 다음과 같습니다."><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2025-05-14T05:10:52+00:00"><title>Gitleak | 데브승관</title>
<link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://devseunggwan.github.io/docs/tech/git/gitleaks/><link rel=stylesheet href=/book.min.5bdce64cc14e50902eb445362149ade3fd10a3447992d8ab8449a29af9631045.css integrity="sha256-W9zmTMFOUJAutEU2IUmt4/0Qo0R5ktirhEmimvljEEU=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.513920e71f759a1088f6a1abd982726ceef2976ebc8c29b6c0a7fa8f0eac9b33.js integrity="sha256-UTkg5x91mhCI9qGr2YJybO7yl268jCm2wKf6jw6smzM=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-ND4BZG3LS1"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ND4BZG3LS1")}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/icon.png alt=Logo class=book-icon><span>데브승관</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><span>Tech</span><ul><li><input type=checkbox id=section-a60fa73ba0ca5091982e66ba30dd6598 class=toggle>
<label for=section-a60fa73ba0ca5091982e66ba30dd6598 class="flex justify-between"><a role=button>Airbyte</a></label><ul><li><a href=/docs/tech/airbyte/installation/>Installation</a></li><li><a href=/docs/tech/airbyte/mysql-to-snowflake/>Airbyte를 사용하여 MySQL to Snowflake 연결 시 고려 사항</a></li><li><a href=/docs/tech/airbyte/disk-issue/>Airbyte 운용 시 디스크 용량이 많이 찼을 때 확인해볼 수 있는 것들</a></li></ul></li><li><input type=checkbox id=section-0df090beb6b8424476a21f6272de6438 class=toggle>
<label for=section-0df090beb6b8424476a21f6272de6438 class="flex justify-between"><a role=button>AWS</a></label><ul><li><a href=/docs/tech/aws/aws-lambda/>AWS Lambda 사용 경험 정리</a></li></ul></li><li><input type=checkbox id=section-57ccde6e58abfd82b4c0c706b6cd1770 class=toggle checked>
<label for=section-57ccde6e58abfd82b4c0c706b6cd1770 class="flex justify-between"><a role=button>Git</a></label><ul><li><a href=/docs/tech/git/gitleaks/ class=active>Gitleak</a></li></ul></li><li><input type=checkbox id=section-e13c1742298c6a8c23cd403840d50c94 class=toggle>
<label for=section-e13c1742298c6a8c23cd403840d50c94 class="flex justify-between"><a role=button>JS7 JobScheduler</a></label><ul><li><a href=/docs/tech/js7-jobscheduler/introduce/>Introduce</a></li><li><a href=/docs/tech/js7-jobscheduler/installation/>Installation</a></li><li><a href=/docs/tech/js7-jobscheduler/configuration/>Configuration</a></li></ul></li><li><input type=checkbox id=section-a85f1e2bfc3e5f90a036e102e5e53c6f class=toggle>
<label for=section-a85f1e2bfc3e5f90a036e102e5e53c6f class="flex justify-between"><a role=button>Langchain</a></label><ul><li><a href=/docs/tech/langchain/issue-unstructuredurlloader/>UnstructuredURLLoader 무한 로딩 해결</a></li></ul></li><li><input type=checkbox id=section-711ce98c05a75c48054a4227d171306e class=toggle>
<label for=section-711ce98c05a75c48054a4227d171306e class="flex justify-between"><a role=button>Python</a></label><ul><li><a href=/docs/tech/python/vscode-python-failed-to-resolve-env/>VSCode Python 익스텐션 에러 트러블 슈팅 (Failed to resolve env)</a></li><li><a href=/docs/tech/python/python-rocky-linux-installation/>폐쇄망에 Python 설치 (Rocky Linux 8.10, UV 사용)</a></li></ul></li></ul></li><li class=book-section-flat><span>Book</span><ul><li><input type=checkbox id=section-f41dde8d67e63c2fc20fc13a03f84626 class=toggle>
<label for=section-f41dde8d67e63c2fc20fc13a03f84626 class="flex justify-between"><a role=button>가상 면접 사례로 알아보는 대규모 시스템 설계 기초 1</a></label><ul></ul></li><li><input type=checkbox id=section-cb6caec5d5cb6384bd3b84b7946900c3 class=toggle>
<label for=section-cb6caec5d5cb6384bd3b84b7946900c3 class="flex justify-between"><a role=button>랄프 킴벌의 데이터 웨어하우스 툴킷(The Warehouse Toolkit)</a></label><ul></ul></li></ul></li><li class=book-section-flat><span>Think</span><ul></ul></li><li class=book-section-flat><span>Conference</span><ul></ul></li></ul><ul><li><a href=https://github.com/devseunggwan target=_blank rel=noopener>Github</a></li><li><a href=https://www.linkedin.com/in/seunggwan target=_blank rel=noopener>Linkedin</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Gitleak</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#gitleaks>Gitleaks</a><ul><li><a href=#gitleaks-설정>Gitleaks 설정</a></li><li><a href=#case-study-apache-airflow에-gitleaks-써보기>Case Study: Apache Airflow에 Gitleaks 써보기</a><ul><li><a href=#출력-report-분석>출력 Report 분석</a></li></ul></li><li><a href=#gitleaks-자동화>Gitleaks 자동화</a><ul><li><a href=#pre-commit-configyaml>.pre-commit-config.yaml</a></li><li><a href=#github-action>Github-Action</a></li></ul></li><li><a href=#더-읽어-보기><strong>더 읽어 보기</strong></a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=gitleaks>Gitleaks
<a class=anchor href=#gitleaks>#</a></h1><p>Gitleaks는 Git 리포지토리의 비밀번호, API 키, 토큰과 같은 하드코딩 된 비밀을 감지하고 유출을 방지하는 SAST(Static Application Security Testing, 정적 어플리케이션 보안 테스트) 도구입니다.</p><p>Go로 작성되었으며, Homebrew, Docker, Git Repo, Pre-commit, Github-Action 등으로 설치하여 사용할 수 있습니다.</p><p>아래는 Homebrew를 통해서 맥 로컬에 설치하는 방법입니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install gitleaks
</span></span></code></pre></div><p>Gitleaks를 통해서 찾을 수 있는 비밀은 여러가지가 있고,
<a href=https://github.com/gitleaks/gitleaks/blob/master/cmd/generate/config/main.go>Github Repo</a>에서 각 규칙(총 137가지)들을 확인할 수 있습니다.</p><p>Gitleaks를 만약 로컬에 설치했다면, 실행하는 방법은 다음과 같습니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gitleaks detect -v <span style=color:#75715e># verbose</span>
</span></span></code></pre></div><pre tabindex=0><code>    ○
    │╲
    │ ○
    ○ ░
    ░    gitleaks

9:28PM INF 157 commits scanned.
9:28PM INF scan completed in 1.49s
9:28PM INF no leaks found
</code></pre><blockquote><p>157개의 커밋된 Git Repo를 Gitleaks로 검사했을 때 1.49초만에 완료하고, 찾은 비밀은 없는 경우입니다.</p></blockquote><h2 id=gitleaks-설정>Gitleaks 설정
<a class=anchor href=#gitleaks-%ec%84%a4%ec%a0%95>#</a></h2><p>Gitleaks로 검사할 때 탬플릿에 목업으로 적어놓은 키 같이 필터링을 해서 비밀키를 찾아야 하는 경우가 있습니다. 이를 위해서 config 파일을 제공합니다. config 파일은 Git Repo가 위치한 루트 패스에 <code>[.gitleaks.toml](https://github.com/gitleaks/gitleaks?tab=readme-ov-file#configuration)</code> 로 저장하면 별도 스크립트 추가없이 실행할 때 자동으로 설정이 적용됩니다.</p><p><code>.gitleaks.toml</code>을 통해서 설정을 했음에도 불구하고 커밋된 목업 키가 계속 찾아진다면 <code>.gitleaksignore</code> 를 통해서 검사를 무시할 위치를 추가합니다.</p><pre tabindex=0><code>Finding:     aws_secret=&#34;AKIAIMNOJVGFDXXXE4OA&#34;
RuleID:      aws-access-token
Secret       AKIAIMNOJVGFDXXXE4OA
Entropy:     3.65
File:        checks_test.go
Line:        37
Commit:      ec2fc9d6cb0954fb3b57201cf6133c48d8ca0d29
Author:      Zachary Rice
Email:       z@email.com
Date:        2018-01-28T17:39:00Z
Fingerprint: ec2fc9d6cb0954fb3b57201cf6133c48d8ca0d29:checks_test.go:aws-access-token:37
</code></pre><p>위처럼 테스트에서 사용하는 키가 Gitleaks 검사 시 나왔고 해당 키는 검사에는 제외하고 싶습니다. 이런 경우, <code>.gitleaksignore</code>에는 Fingerprint의 값을 추가하면 다음 검사부터는 해당 커밋의 키는 검사하지 않게 됩니다.</p><pre tabindex=0><code># .gitleaksignore
ec2fc9d6cb0954fb3b57201cf6133c48d8ca0d29:checks_test.go:aws-access-token:37
</code></pre><p>gitleaks로 검사를 했을 때 나온 파일들이 이상이 없는 경우, report로 나온 파일을 사용하여서 기준점을 만들 수 있습니다. (해당 기능을 사용하여 리포팅도 가능합니다.)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gitleaks detect --report-path gitleaks-report.json
</span></span></code></pre></div><p>재 검사 시 기준점 이후 나온 항목들에 대해서만 추출하는 방식으로 검사할 수 있습니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gitleaks detect --baseline-path gitleaks-report.json --report-path findings.json
</span></span></code></pre></div><h2 id=case-study-apache-airflow에-gitleaks-써보기>Case Study: Apache Airflow에 Gitleaks 써보기
<a class=anchor href=#case-study-apache-airflow%ec%97%90-gitleaks-%ec%8d%a8%eb%b3%b4%ea%b8%b0>#</a></h2><p>Github에는 수많은 레포들이 존재합니다. Case Study를 위해 클론하여 테스트 해 볼 레포는 데이터 파이프라인을 구축할 때 자주 사용하는
<a href=https://github.com/apache/airflow>Apache Airflow</a>로 정했습니다. 커밋의 수가 많고, 프로젝트 기간이 오래되어서 확인해보기 좋을 것 같았습니다.</p><p>Gitleaks를 사용하기 위해 먼저 Airflow Repo를 클론합니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/apache/airflow.git
</span></span></code></pre></div><p>이후, CLI(Bash, Zsh…)에서 Gitleaks를 실행합니다.</p><pre tabindex=0><code>○
    │╲
    │ ○
    ○ ░
    ░    gitleaks

10:05PM INF 33588 commits scanned.
10:05PM INF scan completed in 21.2s
10:05PM WRN leaks found: 178
</code></pre><ul><li>브랜치 포함 총 33588 커밋에서 178개의 leaks를 발견했습니다.</li><li>Verbose 옵션(-v)를 주고 실행하면, 178개에 해당되는 내용이 전부 CLI로 나옵니다.</li><li>CLI로 나오는 내용을 정리하려면, <code>— report-path</code> 를 주어 json, csv 등으로 출력 가능합니다.</li></ul><h3 id=출력-report-분석>출력 Report 분석
<a class=anchor href=#%ec%b6%9c%eb%a0%a5-report-%eb%b6%84%ec%84%9d>#</a></h3><p>저는 Airflow 검사한 내용을 <code>— report-path</code> 를 사용하여 reports.json으로 출력하고, 분석을 위해 <code>Pandas</code>를 사용하여 Json을 로드하였습니다.</p><h4 id=gitleaks-확인>Gitleaks 확인
<a class=anchor href=#gitleaks-%ed%99%95%ec%9d%b8>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gitleaks detect --report-path gitleaks-report.json
</span></span></code></pre></div><p>나온 Json을 확인해보면 다음과 같은 형태로 나옵니다. (<code>reports.json</code>)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[
</span></span><span style=display:flex><span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Description&#34;</span>: <span style=color:#e6db74>&#34;Detected a Generic API Key, potentially exposing access to various services and sensitive operations.&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;StartLine&#34;</span>: <span style=color:#ae81ff>33</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;EndLine&#34;</span>: <span style=color:#ae81ff>33</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;StartColumn&#34;</span>: <span style=color:#ae81ff>30</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;EndColumn&#34;</span>: <span style=color:#ae81ff>57</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Match&#34;</span>: <span style=color:#e6db74>&#34;Key\&#34;: \&#34;cm9tIGlzIHRoZSBraW5n\&#34;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Secret&#34;</span>: <span style=color:#e6db74>&#34;cm9tIGlzIHRoZSBraW5n&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;File&#34;</span>: <span style=color:#e6db74>&#34;helm_tests/other/test_git_ssh_key_secret.py&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;SymlinkFile&#34;</span>: <span style=color:#e6db74>&#34;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Commit&#34;</span>: <span style=color:#e6db74>&#34;f81abd6145d20305148e0a91e8a6ff5026927b70&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Entropy&#34;</span>: <span style=color:#ae81ff>4.221928</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Author&#34;</span>: <span style=color:#e6db74>&#34;rom sharon&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Email&#34;</span>: <span style=color:#e6db74>&#34;33751805+romsharon98@users.noreply.github.com&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Date&#34;</span>: <span style=color:#e6db74>&#34;2024-06-19T06:00:41Z&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Message&#34;</span>: <span style=color:#e6db74>&#34;add git-sync-ssh secret template (#39936)&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Tags&#34;</span>: [],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;RuleID&#34;</span>: <span style=color:#e6db74>&#34;generic-api-key&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;Fingerprint&#34;</span>: <span style=color:#e6db74>&#34;f81abd6145d20305148e0a91e8a6ff5026927b70:helm_tests/other/test_git_ssh_key_secret.py:generic-api-key:33&#34;</span>
</span></span><span style=display:flex><span> },
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>...</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>}</span>
</span></span></code></pre></div><h4 id=pandas로-json-로드>Pandas로 Json 로드
<a class=anchor href=#pandas%eb%a1%9c-json-%eb%a1%9c%eb%93%9c>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> pandas <span style=color:#66d9ef>as</span> pd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_json(<span style=color:#e6db74>&#34;./data/gitleaks-report.json&#34;</span>)<span style=color:#f92672>.</span>to_df()
</span></span><span style=display:flex><span>df<span style=color:#f92672>.</span>head()
</span></span></code></pre></div><p>각각의 항목 값을 집계하여 확인해봅니다.</p><pre tabindex=0><code>RuleID
generic-api-key      149
aws-access-token      13
slack-bot-token        7
slack-webhook-url      5
private-key            4
Name: count, dtype: int64
</code></pre><p><img src="https://upload.cafenono.com/image/slashpagePost/20241110/195016_lVVKdQ2pj38JraM0kz?q=80%5c&amp;s=1280x180%5c&amp;t=outside%5c&amp;f=webp" alt="RuleID 빈도 집계"></p><blockquote><p>generic-api-key 항목이 많았고, 다음으로 aws-access-token, slack-bot-token, slack-webhook-url, private-key 순으로 있었습니다.</p></blockquote><p>Airflow Repo에서 확인한 비밀들의 커밋 메시지나 파일들을 보면 대부분 탬플릿이나 예시 파일들에서 사용한 목업 비밀들인 것을 확인할 수 있습니다.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df<span style=color:#f92672>.</span>loc[df[<span style=color:#e6db74>&#34;File&#34;</span>]<span style=color:#f92672>.</span>str<span style=color:#f92672>.</span>contains(<span style=color:#e6db74>&#34;test&#34;</span>)][<span style=color:#e6db74>&#34;RuleID&#34;</span>]<span style=color:#f92672>.</span>value_counts()
</span></span></code></pre></div><pre tabindex=0><code>## 출력 결과
RuleID
generic-api-key      121
slack-webhook-url      3
private-key            3
slack-bot-token        3
aws-access-token       3
Name: count, dtype: int64
</code></pre><blockquote><p>검사로 발견한 178개 중 133개의 항목이 파일이름에 test 가 붇어 있습니다.</p></blockquote><p>대부분 테스트를 위해서 사용한 목업 형태의 비밀들 임을 확인하였고, 테스트가 붇지 않은 경우에도 howto 나 template, docs, example 등 파일 이름에서 확인할 수 있었습니다.</p><h2 id=gitleaks-자동화>Gitleaks 자동화
<a class=anchor href=#gitleaks-%ec%9e%90%eb%8f%99%ed%99%94>#</a></h2><p>Gitleaks를 사용한 비밀 검사를 자동하기 위해서 Pre-commit과 Github-Action을 사용합니다.</p><ul><li>Pre-commit은 로컬에서 작업 후 커밋에서 코드를 스캔하여 비밀을 감지합니다.</li><li>Github-Action은 CI/CD 과정에서 커밋이나 PR에서 등록된 비밀을 감지합니다.</li></ul><p>아래는 Pre-commit과 Github-Action을 각각 설정하기 위한 코드입니다.</p><h3 id=pre-commit-configyaml>.pre-commit-config.yaml
<a class=anchor href=#pre-commit-configyaml>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>repos</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/gitleaks/gitleaks</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#ae81ff>v8.16.1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>gitleaks</span>
</span></span></code></pre></div><h3 id=github-action>Github-Action
<a class=anchor href=#github-action>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>gitleaks</span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>: [<span style=color:#ae81ff>pull_request, push, workflow_dispatch]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>scan</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>gitleaks</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>gitleaks/gitleaks-action@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>GITHUB_TOKEN</span>: <span style=color:#ae81ff>${{ secrets.GITHUB_TOKEN }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>GITLEAKS_LICENSE</span>: <span style=color:#ae81ff>${{ secrets.GITLEAKS_LICENSE}}</span> <span style=color:#75715e># Only required for Organizations, not personal accounts.</span>
</span></span></code></pre></div><h2 id=더-읽어-보기><strong>더 읽어 보기</strong>
<a class=anchor href=#%eb%8d%94-%ec%9d%bd%ec%96%b4-%eb%b3%b4%ea%b8%b0>#</a></h2><ul><li>Homepage:
<a href=https://gitleaks.io/>https://gitleaks.io/</a></li><li>Github:
<a href=https://github.com/gitleaks/gitleaks>https://github.com/gitleaks/gitleaks</a></li><li>Maintainer:
<a href=https://blog.gitleaks.io/gitleaks-llc-announcement-d7d06a52e801>https://blog.gitleaks.io/gitleaks-llc-announcement-d7d06a52e801</a></li><li><a href=https://medium.com/@tarikyegen35/gitleaks-a-secret-scanner-tool-5cd9b6f1d367>https://medium.com/@tarikyegen35/gitleaks-a-secret-scanner-tool-5cd9b6f1d367</a></li><li><a href=https://akashchandwani.medium.com/what-is-gitleaks-and-how-to-use-it-a05f2fb5b034>https://akashchandwani.medium.com/what-is-gitleaks-and-how-to-use-it-a05f2fb5b034</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/devseunggwan/blog-hugo/commit/1c44b916b2f82f9f6780b9b7ba836f715a691cde title='Last modified by Seunggwan Song | May 14, 2025' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>May 14, 2025</span></a></div><div><a class="flex align-center" href=https://github.com/devseunggwan/blog-hugo/edit/main/exampleSite/content/docs/tech/git/gitleaks.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#gitleaks>Gitleaks</a><ul><li><a href=#gitleaks-설정>Gitleaks 설정</a></li><li><a href=#case-study-apache-airflow에-gitleaks-써보기>Case Study: Apache Airflow에 Gitleaks 써보기</a><ul><li><a href=#출력-report-분석>출력 Report 분석</a></li></ul></li><li><a href=#gitleaks-자동화>Gitleaks 자동화</a><ul><li><a href=#pre-commit-configyaml>.pre-commit-config.yaml</a></li><li><a href=#github-action>Github-Action</a></li></ul></li><li><a href=#더-읽어-보기><strong>더 읽어 보기</strong></a></li></ul></li></ul></nav></div></aside></main></body></html>